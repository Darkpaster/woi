// targetWidget.scss
.target-widget {
  background: url("src/assets/icons/worldmapicon.png") repeat;
  border: 1px solid #000;
  border-radius: 8px;
  padding: 0.5rem;
  color: #fff;
  width: 15rem;
  user-select: none;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.7);

  // WoW-style border
  outline: 1px solid #000;

  position: fixed;
  top: 1rem;
  left: 17rem;
  z-index: 10;

  &.enemy {
    border-color: #c00;
  }

  &.friendly {
    border-color: #0c0;
  }
}

.target-header {
  display: flex;
  margin-bottom: 0.5rem;
}

.avatar-container {
  position: relative;
  margin-right: 0.5rem;

  .avatar {
    width: 3.5rem;
    height: 3.5rem;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #000;
    overflow: hidden;
    border: 2px solid;
    box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.8);

    .enemy & {
      border-color: #c00;
    }

    .friendly & {
      border-color: #0c0;
    }

    img {
      height: 100%;
      width: 100%;
      object-fit: cover;
    }
  }

  .level-indicator {
    position: absolute;
    bottom: -0.25rem;
    right: -0.25rem;
    background-color: #111;
    border: 1px solid;
    border-radius: 3px;
    width: 1.5rem;
    height: 1.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: bold;
    text-shadow: 1px 1px 1px #000;

    .enemy & {
      border-color: #c00;
      color: #f66;
    }

    .friendly & {
      border-color: #0c0;
      color: #6f6;
    }
  }
}

.character-info {
  display: flex;
  flex-direction: column;
  justify-content: center;

  .character-name {
    font-weight: bold;
    font-size: 1rem;
    text-shadow: 1px 1px 1px #000;

    .enemy & {
      color: #f66;
    }

    .friendly & {
      color: #6f6;
    }
  }

  .character-class {
    font-size: 0.8rem;
    color: #bbb;
    text-shadow: 1px 1px 1px #000;
  }
}

.status-bars {
  display: flex;
  flex-direction: column;
  gap: 0.2rem;

  // Make the StatusBar component match WoW style
  :global(.status-bar) {
    height: 1rem;
    border-radius: 2px;
    overflow: hidden;
    border: 1px solid #000;
    background-color: #111;

    :global(.status-bar-fill) {
      box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.3);
      border-right: 1px solid rgba(0, 0, 0, 0.3);
    }

    &:global(.health) :global(.status-bar-fill) {
      background: linear-gradient(to bottom, #f00, #900);
    }

    &:global(.mana) :global(.status-bar-fill) {
      background: linear-gradient(to bottom, #09f, #06c);
    }

    &:global(.stamina) :global(.status-bar-fill) {
      background: linear-gradient(to bottom, #fc0, #c90);
    }

    :global(.status-bar-text) {
      font-size: 0.65rem;
      font-weight: bold;
      text-shadow: 1px 1px 1px #000;
      padding: 0 0.25rem;
    }
  }
}

.status-indicators {
  display: flex;
  margin-top: 0.3rem;
  justify-content: flex-end;

  .status-low-health {
    color: #f66;
    font-size: 0.65rem;
    margin-right: 0.5rem;
    display: flex;
    align-items: center;
    text-shadow: 1px 1px 1px #000;
    animation: pulse 1s infinite;
  }
}

@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.5; }
  100% { opacity: 1; }
}